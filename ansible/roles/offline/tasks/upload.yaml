---
- name: create offline directory
  file:
    path: "{{ offline.os_packages_remote_bundle_path }}/offline-repo/"
    state: directory

- name: upload OS packages bundle to remote
  copy:
    src: "{{ offline.os_packages_local_bundle_file }}"
    dest: "{{ offline.os_packages_remote_bundle_path }}/offline-repo.tar.gz"

- name: unarchive OS packages bundle on remote
  unarchive:
    src: "{{ offline.os_packages_remote_bundle_path }}/offline-repo.tar.gz"
    dest: "{{ offline.os_packages_remote_bundle_path }}/offline-repo/"
    remote_src: yes
