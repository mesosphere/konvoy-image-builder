## konvoy-image build

build and provision images

### Synopsis

Build and Provision images. Specifying AWS arguments is deprecated and will be removed in a future version. Use the `aws` subcommand instead.

```
konvoy-image build <image.yaml> [flags]
```

### Options

```
      --ami-groups stringArray           a list of AWS groups which are allowed use the image, using 'all' result in a public image
      --ami-regions stringArray          a list of regions to publish amis
      --ami-users stringArray            a list AWS user accounts which are allowed use the image
      --containerd-version string        the version of containerd to install
      --dry-run                          do not create artifacts, or delete them after creating. Recommended for tests.
      --extra-vars strings               flag passed Ansible's extra-vars
  -h, --help                             help for build
      --instance-type string             instance type used to build the AMI; the type must be present in the region in which the AMI is built
      --kubernetes-version string        The version of kubernetes to install. Example: 1.21.6
      --overrides strings                a comma separated list of override YAML files
      --packer-manifest string           provide the path to a custom packer manifest
      --packer-on-error string           [advanced] set error strategy for packer. strategies [cleanup, abort, run-cleanup-provisioner]
      --packer-path string               the location of the packer binary (default "packer")
      --region string                    the region in which to build the AMI
      --source-ami string                the ID of the AMI to use as the source; must be present in the region in which the AMI is built
      --source-ami-filter-name string    restricts the set of source AMIs to ones whose Name matches filter
      --source-ami-filter-owner string   restricts the source AMI to ones with this owner ID
      --work-dir string                  path to custom work directory generated by the generate command
```

### Options inherited from parent commands

```
      --color     enable color output (default true)
  -v, --v int     select verbosity level, should be between 0 and 6
      --verbose   enable debug level logging (same as --v 5)
```

### SEE ALSO

* [konvoy-image](konvoy-image.md)	 - Create, provision, and customize images for running Konvoy
* [konvoy-image build aws](konvoy-image_build_aws.md)	 - build and provision aws images
* [konvoy-image build azure](konvoy-image_build_azure.md)	 - build and provision azure images
* [konvoy-image build gcp](konvoy-image_build_gcp.md)	 - build and provision gcp images
* [konvoy-image build vsphere](konvoy-image_build_vsphere.md)	 - build and provision vsphere images

