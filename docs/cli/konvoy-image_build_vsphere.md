## konvoy-image build vsphere

build and provision vsphere images

```
konvoy-image build vsphere <image.yaml> [flags]
```

### Examples

```
vsphere --datacenter dc1 --cluster zone1 --datastore nfs-store1 --network public --template=d2iq-base-templates/d2iq-base-CentOS-7.9 images/ami/centos-79.yaml
```

### Options

```
      --cluster string               vSphere cluster to be used. Alternatively set host. Required value: you can pass the cluster name through an override file or image definition file.
      --containerd-version string    the version of containerd to install
      --datacenter string            The vSphere datacenter. Required value: you can pass the datacenter name through an override file or image definition file.
      --datastore string             vSphere datastore used to build and store the image template. Required value: you can pass the datastore name through an override file or image definition file.
      --dry-run                      do not create artifacts, or delete them after creating. Recommended for tests.
      --extra-vars strings           flag passed Ansible's extra-vars
      --folder string                vSphere folder to store the image template
  -h, --help                         help for vsphere
      --host string                  vSphere host to be used. Alternatively set cluster. Required value: you can pass the host name through an override file or image definition file.
      --kubernetes-version string    The version of kubernetes to install. Example: 1.21.6
      --network string               vSphere network used to build image template. Ensure the host running the command has access to this network. Required value: you can pass the network name through an override file or image definition file.
      --overrides strings            a comma separated list of override YAML files
      --packer-manifest string       provide the path to a custom packer manifest
      --packer-on-error string       [advanced] set error strategy for packer. strategies [cleanup, abort, run-cleanup-provisioner]
      --packer-path string           the location of the packer binary (default "packer")
      --resource-pool string         vSphere resource pool to be used to build image template
      --ssh-privatekey-file string   Path to ssh private key which will be used to log into the base image template
      --ssh-publickey string         Path to SSH public key which will be copied to the image template. Ensure to set ssh-privatekey-file or load the private key into ssh-agent
      --ssh-username string          username to be used with the vSphere image template
      --template string              Base template to be used. Can include folder. <templatename> or <folder>/<templatename>. Required value: you can pass the template name through an override file or image definition file.
      --work-dir string              path to custom work directory generated by the generate command
```

### Options inherited from parent commands

```
      --color     enable color output (default true)
  -v, --v int     select verbosity level, should be between 0 and 6
      --verbose   enable debug level logging (same as --v 5)
```

### SEE ALSO

* [konvoy-image build](konvoy-image_build.md)	 - build and provision images

